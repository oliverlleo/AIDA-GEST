Status: 201
Response: [{"schemaname":"public","tablename":"workspaces","policyname":"Admins can view their workspace","permissive":"PERMISSIVE","roles":"{public}","cmd":"SELECT","qual":"(auth.uid() = owner_id)","with_check":null},{"schemaname":"public","tablename":"profiles","policyname":"Users can view own profile","permissive":"PERMISSIVE","roles":"{public}","cmd":"SELECT","qual":"(auth.uid() = id)","with_check":null},{"schemaname":"public","tablename":"profiles","policyname":"Users can insert own profile","permissive":"PERMISSIVE","roles":"{public}","cmd":"INSERT","qual":null,"with_check":"(auth.uid() = id)"},{"schemaname":"public","tablename":"employees","policyname":"Admins can manage employees","permissive":"PERMISSIVE","roles":"{public}","cmd":"ALL","qual":"(EXISTS ( SELECT 1\n   FROM workspaces\n  WHERE ((workspaces.id = employees.workspace_id) AND (workspaces.owner_id = auth.uid()))))","with_check":null},{"schemaname":"public","tablename":"workspaces","policyname":"Authenticated users can insert workspace","permissive":"PERMISSIVE","roles":"{authenticated}","cmd":"INSERT","qual":null,"with_check":"(auth.uid() = owner_id)"},{"schemaname":"public","tablename":"tickets","policyname":"Acesso Total Tickets","permissive":"PERMISSIVE","roles":"{public}","cmd":"ALL","qual":"true","with_check":"true"},{"schemaname":"public","tablename":"checklist_templates","policyname":"Acesso Total Templates","permissive":"PERMISSIVE","roles":"{public}","cmd":"ALL","qual":"true","with_check":"true"},{"schemaname":"public","tablename":"ticket_logs","policyname":"Permitir Insercao Logs","permissive":"PERMISSIVE","roles":"{anon,authenticated,service_role}","cmd":"INSERT","qual":null,"with_check":"true"},{"schemaname":"public","tablename":"ticket_logs","policyname":"Apenas Admin Ve Logs","permissive":"PERMISSIVE","roles":"{authenticated,service_role}","cmd":"SELECT","qual":"true","with_check":null},{"schemaname":"public","tablename":"notifications","policyname":"See own notifications","permissive":"PERMISSIVE","roles":"{public}","cmd":"SELECT","qual":"((recipient_user_id IS NOT NULL) OR (recipient_role IS NOT NULL))","with_check":null},{"schemaname":"public","tablename":"notifications","policyname":"Insert notifications","permissive":"PERMISSIVE","roles":"{public}","cmd":"INSERT","qual":null,"with_check":"true"},{"schemaname":"public","tablename":"notifications","policyname":"Update notifications","permissive":"PERMISSIVE","roles":"{public}","cmd":"UPDATE","qual":"true","with_check":null},{"schemaname":"public","tablename":"ticket_logs","policyname":"Acesso Total Logs","permissive":"PERMISSIVE","roles":"{public}","cmd":"ALL","qual":"true","with_check":"true"},{"schemaname":"public","tablename":"workspaces","policyname":"Leitura Publica Workspaces","permissive":"PERMISSIVE","roles":"{anon,authenticated}","cmd":"SELECT","qual":"true","with_check":null},{"schemaname":"public","tablename":"tickets","policyname":"Employee access tickets","permissive":"PERMISSIVE","roles":"{anon}","cmd":"ALL","qual":"(workspace_id = (((current_setting('request.headers'::text, true))::json ->> 'x-workspace-id'::text))::uuid)","with_check":null},{"schemaname":"public","tablename":"workspaces","policyname":"Admin view own workspace","permissive":"PERMISSIVE","roles":"{authenticated}","cmd":"ALL","qual":"(owner_id = auth.uid())","with_check":null},{"schemaname":"public","tablename":"workspaces","policyname":"Employee view own workspace","permissive":"PERMISSIVE","roles":"{anon}","cmd":"SELECT","qual":"(id = (((current_setting('request.headers'::text, true))::json ->> 'x-workspace-id'::text))::uuid)","with_check":null},{"schemaname":"public","tablename":"tickets","policyname":"Admin access tickets","permissive":"PERMISSIVE","roles":"{authenticated}","cmd":"ALL","qual":"(workspace_id IN ( SELECT workspaces.id\n   FROM workspaces\n  WHERE (workspaces.owner_id = auth.uid())))","with_check":null},{"schemaname":"public","tablename":"employees","policyname":"Admin manage employees","permissive":"PERMISSIVE","roles":"{authenticated}","cmd":"ALL","qual":"(workspace_id IN ( SELECT workspaces.id\n   FROM workspaces\n  WHERE (workspaces.owner_id = auth.uid())))","with_check":null},{"schemaname":"public","tablename":"employees","policyname":"Employee view colleagues","permissive":"PERMISSIVE","roles":"{anon}","cmd":"SELECT","qual":"(workspace_id = (((current_setting('request.headers'::text, true))::json ->> 'x-workspace-id'::text))::uuid)","with_check":null},{"schemaname":"public","tablename":"checklist_templates","policyname":"Admin manage templates","permissive":"PERMISSIVE","roles":"{authenticated}","cmd":"ALL","qual":"(workspace_id IN ( SELECT workspaces.id\n   FROM workspaces\n  WHERE (workspaces.owner_id = auth.uid())))","with_check":null},{"schemaname":"public","tablename":"checklist_templates","policyname":"Employee use templates","permissive":"PERMISSIVE","roles":"{anon}","cmd":"ALL","qual":"(workspace_id = (((current_setting('request.headers'::text, true))::json ->> 'x-workspace-id'::text))::uuid)","with_check":null},{"schemaname":"public","tablename":"notifications","policyname":"Admin manage notifications","permissive":"PERMISSIVE","roles":"{authenticated}","cmd":"ALL","qual":"(EXISTS ( SELECT 1\n   FROM (tickets t\n     JOIN workspaces w ON ((t.workspace_id = w.id)))\n  WHERE ((t.id = notifications.ticket_id) AND (w.owner_id = auth.uid()))))","with_check":null},{"schemaname":"public","tablename":"notifications","policyname":"Access notifications via ticket workspace","permissive":"PERMISSIVE","roles":"{anon}","cmd":"ALL","qual":"(EXISTS ( SELECT 1\n   FROM tickets t\n  WHERE ((t.id = notifications.ticket_id) AND (t.workspace_id = (((current_setting('request.headers'::text, true))::json ->> 'x-workspace-id'::text))::uuid))))","with_check":null},{"schemaname":"public","tablename":"ticket_logs","policyname":"Admin view logs","permissive":"PERMISSIVE","roles":"{authenticated}","cmd":"ALL","qual":"(EXISTS ( SELECT 1\n   FROM tickets t\n  WHERE ((t.id = ticket_logs.ticket_id) AND (t.workspace_id IN ( SELECT workspaces.id\n           FROM workspaces\n          WHERE (workspaces.owner_id = auth.uid()))))))","with_check":null},{"schemaname":"public","tablename":"ticket_logs","policyname":"Employee view/create logs","permissive":"PERMISSIVE","roles":"{anon}","cmd":"ALL","qual":"(EXISTS ( SELECT 1\n   FROM tickets t\n  WHERE ((t.id = ticket_logs.ticket_id) AND (t.workspace_id = (((current_setting('request.headers'::text, true))::json ->> 'x-workspace-id'::text))::uuid))))","with_check":null}]
