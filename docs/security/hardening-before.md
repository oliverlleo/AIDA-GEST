## Routine Grants (Before)
```json
Status: 201
Response: [{"routine_name":"can_manage_logo","grantee":"PUBLIC","privilege_type":"EXECUTE"},{"routine_name":"can_manage_logo","grantee":"anon","privilege_type":"EXECUTE"},{"routine_name":"can_manage_logo","grantee":"authenticated","privilege_type":"EXECUTE"},{"routine_name":"create_employee","grantee":"PUBLIC","privilege_type":"EXECUTE"},{"routine_name":"create_employee","grantee":"anon","privilege_type":"EXECUTE"},{"routine_name":"create_employee","grantee":"authenticated","privilege_type":"EXECUTE"},{"routine_name":"create_owner_workspace","grantee":"PUBLIC","privilege_type":"EXECUTE"},{"routine_name":"create_owner_workspace","grantee":"anon","privilege_type":"EXECUTE"},{"routine_name":"create_owner_workspace","grantee":"authenticated","privilege_type":"EXECUTE"},{"routine_name":"create_owner_workspace_and_profile","grantee":"PUBLIC","privilege_type":"EXECUTE"},{"routine_name":"create_owner_workspace_and_profile","grantee":"anon","privilege_type":"EXECUTE"},{"routine_name":"create_owner_workspace_and_profile","grantee":"authenticated","privilege_type":"EXECUTE"},{"routine_name":"current_employee_from_token","grantee":"anon","privilege_type":"EXECUTE"},{"routine_name":"current_employee_from_token","grantee":"authenticated","privilege_type":"EXECUTE"},{"routine_name":"employee_change_password","grantee":"PUBLIC","privilege_type":"EXECUTE"},{"routine_name":"employee_change_password","grantee":"anon","privilege_type":"EXECUTE"},{"routine_name":"employee_change_password","grantee":"authenticated","privilege_type":"EXECUTE"},{"routine_name":"employee_login","grantee":"PUBLIC","privilege_type":"EXECUTE"},{"routine_name":"employee_login","grantee":"anon","privilege_type":"EXECUTE"},{"routine_name":"employee_login","grantee":"authenticated","privilege_type":"EXECUTE"},{"routine_name":"employee_logout","grantee":"PUBLIC","privilege_type":"EXECUTE"},{"routine_name":"employee_logout","grantee":"anon","privilege_type":"EXECUTE"},{"routine_name":"employee_logout","grantee":"authenticated","privilege_type":"EXECUTE"},{"routine_name":"get_client_ticket_details_public","grantee":"PUBLIC","privilege_type":"EXECUTE"},{"routine_name":"get_client_ticket_details_public","grantee":"anon","privilege_type":"EXECUTE"},{"routine_name":"get_client_ticket_details_public","grantee":"authenticated","privilege_type":"EXECUTE"},{"routine_name":"get_dashboard_kpis","grantee":"PUBLIC","privilege_type":"EXECUTE"},{"routine_name":"get_dashboard_kpis","grantee":"anon","privilege_type":"EXECUTE"},{"routine_name":"get_dashboard_kpis","grantee":"authenticated","privilege_type":"EXECUTE"},{"routine_name":"get_employees_for_workspace","grantee":"PUBLIC","privilege_type":"EXECUTE"},{"routine_name":"get_employees_for_workspace","grantee":"anon","privilege_type":"EXECUTE"},{"routine_name":"get_employees_for_workspace","grantee":"authenticated","privilege_type":"EXECUTE"},{"routine_name":"get_operational_alerts","grantee":"PUBLIC","privilege_type":"EXECUTE"},{"routine_name":"get_operational_alerts","grantee":"anon","privilege_type":"EXECUTE"},{"routine_name":"get_operational_alerts","grantee":"authenticated","privilege_type":"EXECUTE"},{"routine_name":"log_ticket_changes","grantee":"PUBLIC","privilege_type":"EXECUTE"},{"routine_name":"log_ticket_changes","grantee":"anon","privilege_type":"EXECUTE"},{"routine_name":"log_ticket_changes","grantee":"authenticated","privilege_type":"EXECUTE"},{"routine_name":"reset_employee_password","grantee":"PUBLIC","privilege_type":"EXECUTE"},{"routine_name":"reset_employee_password","grantee":"anon","privilege_type":"EXECUTE"},{"routine_name":"reset_employee_password","grantee":"authenticated","privilege_type":"EXECUTE"},{"routine_name":"update_employee","grantee":"PUBLIC","privilege_type":"EXECUTE"},{"routine_name":"update_employee","grantee":"anon","privilege_type":"EXECUTE"},{"routine_name":"update_employee","grantee":"authenticated","privilege_type":"EXECUTE"},{"routine_name":"validate_employee_session","grantee":"PUBLIC","privilege_type":"EXECUTE"},{"routine_name":"validate_employee_session","grantee":"anon","privilege_type":"EXECUTE"},{"routine_name":"validate_employee_session","grantee":"authenticated","privilege_type":"EXECUTE"}]
```
## Table Grants (Before)
```json
Status: 201
Response: [{"table_name":"checklist_templates","grantee":"anon","privilege_type":"INSERT"},{"table_name":"checklist_templates","grantee":"anon","privilege_type":"TRIGGER"},{"table_name":"checklist_templates","grantee":"anon","privilege_type":"REFERENCES"},{"table_name":"checklist_templates","grantee":"anon","privilege_type":"TRUNCATE"},{"table_name":"checklist_templates","grantee":"anon","privilege_type":"DELETE"},{"table_name":"checklist_templates","grantee":"anon","privilege_type":"UPDATE"},{"table_name":"checklist_templates","grantee":"anon","privilege_type":"SELECT"},{"table_name":"checklist_templates","grantee":"authenticated","privilege_type":"INSERT"},{"table_name":"checklist_templates","grantee":"authenticated","privilege_type":"UPDATE"},{"table_name":"checklist_templates","grantee":"authenticated","privilege_type":"DELETE"},{"table_name":"checklist_templates","grantee":"authenticated","privilege_type":"TRUNCATE"},{"table_name":"checklist_templates","grantee":"authenticated","privilege_type":"REFERENCES"},{"table_name":"checklist_templates","grantee":"authenticated","privilege_type":"TRIGGER"},{"table_name":"checklist_templates","grantee":"authenticated","privilege_type":"SELECT"},{"table_name":"defect_options","grantee":"anon","privilege_type":"INSERT"},{"table_name":"defect_options","grantee":"anon","privilege_type":"SELECT"},{"table_name":"defect_options","grantee":"anon","privilege_type":"UPDATE"},{"table_name":"defect_options","grantee":"anon","privilege_type":"DELETE"},{"table_name":"defect_options","grantee":"anon","privilege_type":"TRUNCATE"},{"table_name":"defect_options","grantee":"anon","privilege_type":"REFERENCES"},{"table_name":"defect_options","grantee":"anon","privilege_type":"TRIGGER"},{"table_name":"defect_options","grantee":"authenticated","privilege_type":"UPDATE"},{"table_name":"defect_options","grantee":"authenticated","privilege_type":"INSERT"},{"table_name":"defect_options","grantee":"authenticated","privilege_type":"TRIGGER"},{"table_name":"defect_options","grantee":"authenticated","privilege_type":"REFERENCES"},{"table_name":"defect_options","grantee":"authenticated","privilege_type":"TRUNCATE"},{"table_name":"defect_options","grantee":"authenticated","privilege_type":"DELETE"},{"table_name":"defect_options","grantee":"authenticated","privilege_type":"SELECT"},{"table_name":"defects","grantee":"anon","privilege_type":"TRUNCATE"},{"table_name":"defects","grantee":"anon","privilege_type":"TRIGGER"},{"table_name":"defects","grantee":"anon","privilege_type":"REFERENCES"},{"table_name":"defects","grantee":"anon","privilege_type":"DELETE"},{"table_name":"defects","grantee":"anon","privilege_type":"UPDATE"},{"table_name":"defects","grantee":"anon","privilege_type":"SELECT"},{"table_name":"defects","grantee":"anon","privilege_type":"INSERT"},{"table_name":"defects","grantee":"authenticated","privilege_type":"INSERT"},{"table_name":"defects","grantee":"authenticated","privilege_type":"TRIGGER"},{"table_name":"defects","grantee":"authenticated","privilege_type":"REFERENCES"},{"table_name":"defects","grantee":"authenticated","privilege_type":"TRUNCATE"},{"table_name":"defects","grantee":"authenticated","privilege_type":"DELETE"},{"table_name":"defects","grantee":"authenticated","privilege_type":"UPDATE"},{"table_name":"defects","grantee":"authenticated","privilege_type":"SELECT"},{"table_name":"device_models","grantee":"anon","privilege_type":"INSERT"},{"table_name":"device_models","grantee":"anon","privilege_type":"SELECT"},{"table_name":"device_models","grantee":"anon","privilege_type":"UPDATE"},{"table_name":"device_models","grantee":"anon","privilege_type":"DELETE"},{"table_name":"device_models","grantee":"anon","privilege_type":"TRUNCATE"},{"table_name":"device_models","grantee":"anon","privilege_type":"REFERENCES"},{"table_name":"device_models","grantee":"anon","privilege_type":"TRIGGER"},{"table_name":"device_models","grantee":"authenticated","privilege_type":"INSERT"},{"table_name":"device_models","grantee":"authenticated","privilege_type":"SELECT"},{"table_name":"device_models","grantee":"authenticated","privilege_type":"UPDATE"},{"table_name":"device_models","grantee":"authenticated","privilege_type":"DELETE"},{"table_name":"device_models","grantee":"authenticated","privilege_type":"TRUNCATE"},{"table_name":"device_models","grantee":"authenticated","privilege_type":"REFERENCES"},{"table_name":"device_models","grantee":"authenticated","privilege_type":"TRIGGER"},{"table_name":"employee_sessions","grantee":"anon","privilege_type":"INSERT"},{"table_name":"employee_sessions","grantee":"anon","privilege_type":"TRIGGER"},{"table_name":"employee_sessions","grantee":"anon","privilege_type":"REFERENCES"},{"table_name":"employee_sessions","grantee":"anon","privilege_type":"TRUNCATE"},{"table_name":"employee_sessions","grantee":"anon","privilege_type":"DELETE"},{"table_name":"employee_sessions","grantee":"anon","privilege_type":"UPDATE"},{"table_name":"employee_sessions","grantee":"anon","privilege_type":"SELECT"},{"table_name":"employee_sessions","grantee":"authenticated","privilege_type":"INSERT"},{"table_name":"employee_sessions","grantee":"authenticated","privilege_type":"SELECT"},{"table_name":"employee_sessions","grantee":"authenticated","privilege_type":"UPDATE"},{"table_name":"employee_sessions","grantee":"authenticated","privilege_type":"DELETE"},{"table_name":"employee_sessions","grantee":"authenticated","privilege_type":"TRUNCATE"},{"table_name":"employee_sessions","grantee":"authenticated","privilege_type":"REFERENCES"},{"table_name":"employee_sessions","grantee":"authenticated","privilege_type":"TRIGGER"},{"table_name":"employees","grantee":"anon","privilege_type":"INSERT"},{"table_name":"employees","grantee":"anon","privilege_type":"TRIGGER"},{"table_name":"employees","grantee":"anon","privilege_type":"REFERENCES"},{"table_name":"employees","grantee":"anon","privilege_type":"TRUNCATE"},{"table_name":"employees","grantee":"anon","privilege_type":"DELETE"},{"table_name":"employees","grantee":"anon","privilege_type":"UPDATE"},{"table_name":"employees","grantee":"anon","privilege_type":"SELECT"},{"table_name":"employees","grantee":"authenticated","privilege_type":"INSERT"},{"table_name":"employees","grantee":"authenticated","privilege_type":"TRIGGER"},{"table_name":"employees","grantee":"authenticated","privilege_type":"REFERENCES"},{"table_name":"employees","grantee":"authenticated","privilege_type":"TRUNCATE"},{"table_name":"employees","grantee":"authenticated","privilege_type":"DELETE"},{"table_name":"employees","grantee":"authenticated","privilege_type":"UPDATE"},{"table_name":"employees","grantee":"authenticated","privilege_type":"SELECT"},{"table_name":"internal_notes","grantee":"anon","privilege_type":"INSERT"},{"table_name":"internal_notes","grantee":"anon","privilege_type":"SELECT"},{"table_name":"internal_notes","grantee":"anon","privilege_type":"UPDATE"},{"table_name":"internal_notes","grantee":"anon","privilege_type":"DELETE"},{"table_name":"internal_notes","grantee":"anon","privilege_type":"TRUNCATE"},{"table_name":"internal_notes","grantee":"anon","privilege_type":"REFERENCES"},{"table_name":"internal_notes","grantee":"anon","privilege_type":"TRIGGER"},{"table_name":"internal_notes","grantee":"authenticated","privilege_type":"INSERT"},{"table_name":"internal_notes","grantee":"authenticated","privilege_type":"REFERENCES"},{"table_name":"internal_notes","grantee":"authenticated","privilege_type":"TRUNCATE"},{"table_name":"internal_notes","grantee":"authenticated","privilege_type":"DELETE"},{"table_name":"internal_notes","grantee":"authenticated","privilege_type":"UPDATE"},{"table_name":"internal_notes","grantee":"authenticated","privilege_type":"SELECT"},{"table_name":"internal_notes","grantee":"authenticated","privilege_type":"TRIGGER"},{"table_name":"notifications","grantee":"anon","privilege_type":"INSERT"},{"table_name":"notifications","grantee":"anon","privilege_type":"TRIGGER"},{"table_name":"notifications","grantee":"anon","privilege_type":"REFERENCES"},{"table_name":"notifications","grantee":"anon","privilege_type":"TRUNCATE"},{"table_name":"notifications","grantee":"anon","privilege_type":"DELETE"},{"table_name":"notifications","grantee":"anon","privilege_type":"UPDATE"},{"table_name":"notifications","grantee":"anon","privilege_type":"SELECT"},{"table_name":"notifications","grantee":"authenticated","privilege_type":"TRIGGER"},{"table_name":"notifications","grantee":"authenticated","privilege_type":"INSERT"},{"table_name":"notifications","grantee":"authenticated","privilege_type":"SELECT"},{"table_name":"notifications","grantee":"authenticated","privilege_type":"UPDATE"},{"table_name":"notifications","grantee":"authenticated","privilege_type":"DELETE"},{"table_name":"notifications","grantee":"authenticated","privilege_type":"TRUNCATE"},{"table_name":"notifications","grantee":"authenticated","privilege_type":"REFERENCES"},{"table_name":"outsourced_companies","grantee":"anon","privilege_type":"INSERT"},{"table_name":"outsourced_companies","grantee":"anon","privilege_type":"SELECT"},{"table_name":"outsourced_companies","grantee":"anon","privilege_type":"UPDATE"},{"table_name":"outsourced_companies","grantee":"anon","privilege_type":"DELETE"},{"table_name":"outsourced_companies","grantee":"anon","privilege_type":"TRUNCATE"},{"table_name":"outsourced_companies","grantee":"anon","privilege_type":"REFERENCES"},{"table_name":"outsourced_companies","grantee":"anon","privilege_type":"TRIGGER"},{"table_name":"outsourced_companies","grantee":"authenticated","privilege_type":"SELECT"},{"table_name":"outsourced_companies","grantee":"authenticated","privilege_type":"UPDATE"},{"table_name":"outsourced_companies","grantee":"authenticated","privilege_type":"DELETE"},{"table_name":"outsourced_companies","grantee":"authenticated","privilege_type":"TRUNCATE"},{"table_name":"outsourced_companies","grantee":"authenticated","privilege_type":"REFERENCES"},{"table_name":"outsourced_companies","grantee":"authenticated","privilege_type":"TRIGGER"},{"table_name":"outsourced_companies","grantee":"authenticated","privilege_type":"INSERT"},{"table_name":"profiles","grantee":"anon","privilege_type":"TRIGGER"},{"table_name":"profiles","grantee":"anon","privilege_type":"INSERT"},{"table_name":"profiles","grantee":"anon","privilege_type":"SELECT"},{"table_name":"profiles","grantee":"anon","privilege_type":"UPDATE"},{"table_name":"profiles","grantee":"anon","privilege_type":"DELETE"},{"table_name":"profiles","grantee":"anon","privilege_type":"TRUNCATE"},{"table_name":"profiles","grantee":"anon","privilege_type":"REFERENCES"},{"table_name":"profiles","grantee":"authenticated","privilege_type":"SELECT"},{"table_name":"profiles","grantee":"authenticated","privilege_type":"UPDATE"},{"table_name":"profiles","grantee":"authenticated","privilege_type":"DELETE"},{"table_name":"profiles","grantee":"authenticated","privilege_type":"TRUNCATE"},{"table_name":"profiles","grantee":"authenticated","privilege_type":"REFERENCES"},{"table_name":"profiles","grantee":"authenticated","privilege_type":"TRIGGER"},{"table_name":"profiles","grantee":"authenticated","privilege_type":"INSERT"},{"table_name":"suppliers","grantee":"anon","privilege_type":"REFERENCES"},{"table_name":"suppliers","grantee":"anon","privilege_type":"INSERT"},{"table_name":"suppliers","grantee":"anon","privilege_type":"SELECT"},{"table_name":"suppliers","grantee":"anon","privilege_type":"UPDATE"},{"table_name":"suppliers","grantee":"anon","privilege_type":"DELETE"},{"table_name":"suppliers","grantee":"anon","privilege_type":"TRUNCATE"},{"table_name":"suppliers","grantee":"anon","privilege_type":"TRIGGER"},{"table_name":"suppliers","grantee":"authenticated","privilege_type":"REFERENCES"},{"table_name":"suppliers","grantee":"authenticated","privilege_type":"TRUNCATE"},{"table_name":"suppliers","grantee":"authenticated","privilege_type":"DELETE"},{"table_name":"suppliers","grantee":"authenticated","privilege_type":"UPDATE"},{"table_name":"suppliers","grantee":"authenticated","privilege_type":"SELECT"},{"table_name":"suppliers","grantee":"authenticated","privilege_type":"INSERT"},{"table_name":"suppliers","grantee":"authenticated","privilege_type":"TRIGGER"},{"table_name":"terceirizados","grantee":"anon","privilege_type":"TRIGGER"},{"table_name":"terceirizados","grantee":"anon","privilege_type":"INSERT"},{"table_name":"terceirizados","grantee":"anon","privilege_type":"REFERENCES"},{"table_name":"terceirizados","grantee":"anon","privilege_type":"TRUNCATE"},{"table_name":"terceirizados","grantee":"anon","privilege_type":"DELETE"},{"table_name":"terceirizados","grantee":"anon","privilege_type":"UPDATE"},{"table_name":"terceirizados","grantee":"anon","privilege_type":"SELECT"},{"table_name":"terceirizados","grantee":"authenticated","privilege_type":"REFERENCES"},{"table_name":"terceirizados","grantee":"authenticated","privilege_type":"TRUNCATE"},{"table_name":"terceirizados","grantee":"authenticated","privilege_type":"DELETE"},{"table_name":"terceirizados","grantee":"authenticated","privilege_type":"UPDATE"},{"table_name":"terceirizados","grantee":"authenticated","privilege_type":"SELECT"},{"table_name":"terceirizados","grantee":"authenticated","privilege_type":"INSERT"},{"table_name":"terceirizados","grantee":"authenticated","privilege_type":"TRIGGER"},{"table_name":"ticket_logs","grantee":"anon","privilege_type":"REFERENCES"},{"table_name":"ticket_logs","grantee":"anon","privilege_type":"TRUNCATE"},{"table_name":"ticket_logs","grantee":"anon","privilege_type":"DELETE"},{"table_name":"ticket_logs","grantee":"anon","privilege_type":"UPDATE"},{"table_name":"ticket_logs","grantee":"anon","privilege_type":"SELECT"},{"table_name":"ticket_logs","grantee":"anon","privilege_type":"INSERT"},{"table_name":"ticket_logs","grantee":"anon","privilege_type":"TRIGGER"},{"table_name":"ticket_logs","grantee":"authenticated","privilege_type":"SELECT"},{"table_name":"ticket_logs","grantee":"authenticated","privilege_type":"UPDATE"},{"table_name":"ticket_logs","grantee":"authenticated","privilege_type":"DELETE"},{"table_name":"ticket_logs","grantee":"authenticated","privilege_type":"TRUNCATE"},{"table_name":"ticket_logs","grantee":"authenticated","privilege_type":"REFERENCES"},{"table_name":"ticket_logs","grantee":"authenticated","privilege_type":"TRIGGER"},{"table_name":"ticket_logs","grantee":"authenticated","privilege_type":"INSERT"},{"table_name":"tickets","grantee":"anon","privilege_type":"REFERENCES"},{"table_name":"tickets","grantee":"anon","privilege_type":"INSERT"},{"table_name":"tickets","grantee":"anon","privilege_type":"TRUNCATE"},{"table_name":"tickets","grantee":"anon","privilege_type":"DELETE"},{"table_name":"tickets","grantee":"anon","privilege_type":"UPDATE"},{"table_name":"tickets","grantee":"anon","privilege_type":"SELECT"},{"table_name":"tickets","grantee":"anon","privilege_type":"TRIGGER"},{"table_name":"tickets","grantee":"authenticated","privilege_type":"SELECT"},{"table_name":"tickets","grantee":"authenticated","privilege_type":"INSERT"},{"table_name":"tickets","grantee":"authenticated","privilege_type":"TRIGGER"},{"table_name":"tickets","grantee":"authenticated","privilege_type":"REFERENCES"},{"table_name":"tickets","grantee":"authenticated","privilege_type":"TRUNCATE"},{"table_name":"tickets","grantee":"authenticated","privilege_type":"DELETE"},{"table_name":"tickets","grantee":"authenticated","privilege_type":"UPDATE"},{"table_name":"workspaces","grantee":"anon","privilege_type":"SELECT"},{"table_name":"workspaces","grantee":"anon","privilege_type":"UPDATE"},{"table_name":"workspaces","grantee":"anon","privilege_type":"DELETE"},{"table_name":"workspaces","grantee":"anon","privilege_type":"TRUNCATE"},{"table_name":"workspaces","grantee":"anon","privilege_type":"REFERENCES"},{"table_name":"workspaces","grantee":"anon","privilege_type":"TRIGGER"},{"table_name":"workspaces","grantee":"anon","privilege_type":"INSERT"},{"table_name":"workspaces","grantee":"authenticated","privilege_type":"INSERT"},{"table_name":"workspaces","grantee":"authenticated","privilege_type":"TRIGGER"},{"table_name":"workspaces","grantee":"authenticated","privilege_type":"REFERENCES"},{"table_name":"workspaces","grantee":"authenticated","privilege_type":"TRUNCATE"},{"table_name":"workspaces","grantee":"authenticated","privilege_type":"DELETE"},{"table_name":"workspaces","grantee":"authenticated","privilege_type":"UPDATE"},{"table_name":"workspaces","grantee":"authenticated","privilege_type":"SELECT"}]
```
## Security Definer Audit (Before)
```json
Status: 201
Response: [{"schema":"public","function_name":"log_ticket_changes","signature":"log_ticket_changes()"},{"schema":"public","function_name":"get_client_ticket_details","signature":"get_client_ticket_details(uuid)"},{"schema":"public","function_name":"create_owner_workspace","signature":"create_owner_workspace(text,text)"},{"schema":"public","function_name":"create_owner_workspace_and_profile","signature":"create_owner_workspace_and_profile(text,text)"}]
```
## Storage Policies (Before)
```json
Status: 201
Response: [{"policyname":"Admin Storage Delete","cmd":"DELETE","roles":"{authenticated}","qual":"((bucket_id = 'ticket_photos'::text) AND (EXISTS ( SELECT 1\n   FROM profiles p\n  WHERE ((p.id = auth.uid()) AND ((p.workspace_id)::text = (storage.foldername(objects.name))[1])))))","with_check":null},{"policyname":"Admin Storage Insert","cmd":"INSERT","roles":"{authenticated}","qual":null,"with_check":"((bucket_id = 'ticket_photos'::text) AND (EXISTS ( SELECT 1\n   FROM profiles p\n  WHERE ((p.id = auth.uid()) AND ((p.workspace_id)::text = (storage.foldername(objects.name))[1])))))"},{"policyname":"Admin Storage Select","cmd":"SELECT","roles":"{authenticated}","qual":"((bucket_id = 'ticket_photos'::text) AND (EXISTS ( SELECT 1\n   FROM profiles p\n  WHERE ((p.id = auth.uid()) AND ((p.workspace_id)::text = (storage.foldername(objects.name))[1])))))","with_check":null},{"policyname":"Admin Storage Update","cmd":"UPDATE","roles":"{authenticated}","qual":"((bucket_id = 'ticket_photos'::text) AND (EXISTS ( SELECT 1\n   FROM profiles p\n  WHERE ((p.id = auth.uid()) AND ((p.workspace_id)::text = (storage.foldername(objects.name))[1])))))","with_check":"((bucket_id = 'ticket_photos'::text) AND (EXISTS ( SELECT 1\n   FROM profiles p\n  WHERE ((p.id = auth.uid()) AND ((p.workspace_id)::text = (storage.foldername(objects.name))[1])))))"},{"policyname":"Employee Storage Delete","cmd":"DELETE","roles":"{anon,authenticated}","qual":"((bucket_id = 'ticket_photos'::text) AND ((storage.foldername(name))[1] = ( SELECT (current_employee_from_token.workspace_id)::text AS workspace_id\n   FROM current_employee_from_token() current_employee_from_token(employee_id, workspace_id, role))))","with_check":null},{"policyname":"Employee Storage Insert","cmd":"INSERT","roles":"{anon,authenticated}","qual":null,"with_check":"((bucket_id = 'ticket_photos'::text) AND ((storage.foldername(name))[1] = ( SELECT (current_employee_from_token.workspace_id)::text AS workspace_id\n   FROM current_employee_from_token() current_employee_from_token(employee_id, workspace_id, role))))"},{"policyname":"Employee Storage Select","cmd":"SELECT","roles":"{anon,authenticated}","qual":"((bucket_id = 'ticket_photos'::text) AND ((storage.foldername(name))[1] = ( SELECT (current_employee_from_token.workspace_id)::text AS workspace_id\n   FROM current_employee_from_token() current_employee_from_token(employee_id, workspace_id, role))))","with_check":null},{"policyname":"Employee Storage Update","cmd":"UPDATE","roles":"{anon,authenticated}","qual":"((bucket_id = 'ticket_photos'::text) AND ((storage.foldername(name))[1] = ( SELECT (current_employee_from_token.workspace_id)::text AS workspace_id\n   FROM current_employee_from_token() current_employee_from_token(employee_id, workspace_id, role))))","with_check":"((bucket_id = 'ticket_photos'::text) AND ((storage.foldername(name))[1] = ( SELECT (current_employee_from_token.workspace_id)::text AS workspace_id\n   FROM current_employee_from_token() current_employee_from_token(employee_id, workspace_id, role))))"},{"policyname":"Logos Public Read","cmd":"SELECT","roles":"{public}","qual":"(bucket_id = 'workspace_logos'::text)","with_check":null},{"policyname":"Logos Secure Delete","cmd":"DELETE","roles":"{anon,authenticated}","qual":"((bucket_id = 'workspace_logos'::text) AND can_manage_logo(name))","with_check":null},{"policyname":"Logos Secure Update","cmd":"UPDATE","roles":"{anon,authenticated}","qual":"((bucket_id = 'workspace_logos'::text) AND can_manage_logo(name))","with_check":"((bucket_id = 'workspace_logos'::text) AND can_manage_logo(name))"},{"policyname":"Logos Secure Upload","cmd":"INSERT","roles":"{anon,authenticated}","qual":null,"with_check":"((bucket_id = 'workspace_logos'::text) AND can_manage_logo(name))"}]
```
